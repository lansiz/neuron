from __future__ import print_function
import numpy as np
import multiprocessing
from nn import NeuralNetwork
from gene import Gene
import strengthen_functions
import matplotlib.pyplot as plt

def factory(a):
    def pf(x):
        return (np.exp(a * x) / (1 + np.exp(a * x)) - .5) * 1.8 + .05
    return pf
'''
y11 = [0.0524, 0.0673, 0.0951, 0.2459, 0.637, 1.2921, 2.0124, 2.994, 3.9824, 5.0251, 5.798, 6.5728, 7.2304, 7.6479, 8.372, 8.6833, 9.2205, 9.6308, 9.6468, 9.9971]
y15 = [0.0522, 0.0708, 0.1717, 0.6175, 1.6276, 2.7986, 4.2406, 5.7087, 6.9373, 7.467, 8.0017, 8.695, 9.1579, 9.3662, 10.2561, 10.3109, 10.529, 10.8679, 11.1166, 10.904]
y13 = [0.0556, 0.0781, 0.1167, 0.4685, 1.0425, 1.9768, 3.138, 4.1554, 5.5015, 6.2057, 7.254, 7.9441, 8.3011, 8.687, 9.2709, 9.6533, 9.7715, 10.315, 10.1101, 10.3045]
y3 = [0.0502, 0.0554, 0.0606, 0.0621, 0.0758, 0.0874, 0.0859, 0.1055, 0.1224, 0.1565, 0.1806, 0.218, 0.3241, 0.4497, 0.5814, 0.665, 0.8084, 0.9727, 1.1979, 1.367]
y1 = [0.0543, 0.0538, 0.055, 0.0575, 0.0622, 0.059, 0.0591, 0.0661, 0.0678, 0.0694, 0.066, 0.0659, 0.0717, 0.0803, 0.0747, 0.0837, 0.0874, 0.0906, 0.1, 0.0932]
y5 = [0.0513, 0.0589, 0.0651, 0.0856, 0.1013, 0.1187, 0.1774, 0.3161, 0.479, 0.6865, 0.8878, 1.2424, 1.5963, 1.9797, 2.3387, 2.808, 3.3532, 3.7496, 4.2501, 4.6845]
y19 = [0.0504, 0.1052, 0.4637, 1.3951, 2.7971, 4.6896, 6.1891, 7.468, 8.0947, 9.2506, 9.5436, 10.2677, 10.4647, 10.6217, 11.1511, 11.1697, 11.8343, 11.6775, 11.9053, 12.0546]
y17 = [0.0528, 0.0944, 0.2579, 0.9805, 2.3014, 3.7567, 5.4472, 6.5463, 7.5769, 8.1879, 8.7089, 9.1949, 9.7939, 10.3465, 10.3753, 10.6997, 11.1959, 11.2035, 11.5535, 11.7127]
y21 = [0.0532, 0.1012, 0.4957, 1.7678, 3.7176, 5.5043, 6.8917, 8.0959, 8.8661, 9.4547, 9.7352, 10.431, 10.9273, 11.0559, 11.0955, 11.3642, 11.9128, 12.3375, 12.2209, 12.4687]
y9 = [0.0506, 0.0652, 0.1052, 0.1388, 0.3041, 0.7055, 1.1777, 1.7644, 2.6116, 3.3069, 4.2059, 4.9748, 5.6712, 6.4624, 6.9577, 7.5083, 7.7031, 8.0744, 8.5456, 8.8608]
y7 = [0.0517, 0.0615, 0.0789, 0.1044, 0.152, 0.253, 0.555, 0.8514, 1.2831, 1.7612, 2.4172, 2.9653, 3.6691, 4.2347, 4.8769, 5.523, 6.1176, 6.4523, 6.7123, 7.297]
'''
y1 = [0.05298, 0.05394, 0.05614, 0.05788, 0.06014, 0.0611, 0.06158, 0.06326, 0.06424, 0.06692, 0.06936, 0.0686, 0.0724, 0.07614, 0.08152, 0.0813, 0.08538, 0.09198, 0.09316, 0.09184]
y3 = [0.05198, 0.05748, 0.06058, 0.06654, 0.07376, 0.07782, 0.09022, 0.1013, 0.13218, 0.14196, 0.1755, 0.23878, 0.32254, 0.43368, 0.5696, 0.70536, 0.80654, 0.97978, 1.1934, 1.3828]
y9 = [0.05224, 0.06388, 0.08872, 0.1368, 0.29682, 0.70368, 1.20974, 1.7611, 2.54924, 3.33266, 4.20556, 4.98, 5.54206, 6.34028, 6.66988, 7.24524, 7.87674, 8.10378, 8.62278, 8.90746]
y5 = [0.0508, 0.05752, 0.06994, 0.0793, 0.09984, 0.12548, 0.17772, 0.27536, 0.48362, 0.68776, 0.88502, 1.2559, 1.55136, 1.91398, 2.3472, 2.81008, 3.34166, 3.69172, 4.1506, 4.661]
y7 = [0.05314, 0.0629, 0.07824, 0.10152, 0.15934, 0.27172, 0.60254, 0.85618, 1.32968, 1.82916, 2.32536, 2.90904, 3.57968, 4.32522, 4.92052, 5.48946, 6.00162, 6.4657, 6.8354, 7.19696]
y11 = [0.05368, 0.07218, 0.11356, 0.2053, 0.6616, 1.23418, 1.97612, 3.13438, 3.87358, 4.95614, 5.73312, 6.86838, 7.26434, 7.59902, 8.23722, 8.73564, 9.05944, 9.4076, 9.65872, 9.89168]
y13 = [0.05066, 0.08128, 0.12048, 0.4235, 1.03512, 1.88186, 3.14124, 4.42034, 5.30312, 6.29112, 7.26682, 7.76294, 8.44528, 8.92814, 9.2581, 9.53996, 10.00742, 10.27086, 10.58044, 10.61524]
y15 = [0.05466, 0.07526, 0.18218, 0.67962, 1.55566, 2.68922, 4.25694, 5.34556, 6.34506, 7.34464, 8.126, 8.75212, 9.12966, 9.56554, 9.94988, 10.18262, 10.43196, 10.63138, 11.01496, 11.36764]
y19 = [0.0521, 0.10054, 0.35114, 1.42564, 2.99638, 4.4551, 5.98478, 7.3508, 8.0364, 8.86548, 9.41738, 10.10368, 10.42716, 10.5687, 10.97622, 11.2232, 11.53242, 11.74438, 12.02846, 12.21944]
y17 = [0.05328, 0.07404, 0.28306, 0.98434, 2.22516, 3.5945, 5.47878, 6.58222, 7.3901, 8.10524, 8.88484, 9.40832, 9.81072, 10.21008, 10.75704, 10.77216, 10.8912, 11.49528, 11.50636, 11.58686]
y21 = [0.05402, 0.09068, 0.56312, 1.86226, 3.64316, 5.39836, 6.717, 8.0591, 8.82546, 9.26566, 10.03158, 10.63344, 10.68384, 11.0362, 11.49552, 11.67684, 11.9335, 11.9824, 12.34906, 12.25104]

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(6, 2))
xs1 = np.linspace(0, 1, 100)
xs2 = np.linspace(0, 1, 20)
# marker_style = dict(color='cornflowerblue', markersize=3)
for pf, ys2 in zip([factory(1), factory(3), factory(5), factory(9), factory(13), factory(17), factory(21)], [y1, y3, y5, y9, y13, y17, y21]):
    ys1 = [pf(x) for x in xs1]
    ax1.plot(xs1, ys1)
    ax2.plot(xs2, ys2, marker='s', markersize=3)
ax1.tick_params(labelsize=8)
ax2.tick_params(labelsize=8)

# ax.set_ylim(0, 1)
plt.savefig('nn_06.png')
plt.show()
